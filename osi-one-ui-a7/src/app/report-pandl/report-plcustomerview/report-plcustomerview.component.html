<div data-theme="default" data-layout="fluid" data-sidebar-position="left" data-sidebar-behavior="sticky">
	<div class="wrapper">

		<div class="main">
			<nav class="navbar navbar-expand-lg navbar-light bg-light">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01"
					aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarTogglerDemo01">
					<a class="navbar-brand">P&L </a>
					<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
						<li class="nav-item">
							<a class="nav-link" href="#reports/PAndL">Summary</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#pandldetail">Detail</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#pandlutilization">Utilization</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#pandldata">Data</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#pandlproject">Project</a>
						</li>
						<li class="nav-item ">
							<a class="nav-link" href="#pandlemployee">Employee<span class="sr-only">(current)</span></a>
						</li>
						<!-- <li class="nav-item active">
							<a class="nav-link" href="#pandlcustomerview">Customer View</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#myview">My View</a>
						</li> -->
					</ul>
					<form class="form-inline my-2 my-lg-0">
						<a (click)="refresh()">Refresh <i class="fas fa-redo"></i> </a>
					</form>
				</div>
			</nav>
			<main class="content content-master">
				<section class="content-dashboard content--shrinked pl-conntent-dashboard">
					<div class="container-fluid p-0">
						<div class="row">
							<div class="col-sm-3">
								<div class="card flex-fill">
									<div class="card-body py-4 graph-primary">
										<div class="media">
											<div class="media-body">
												<h3 class="cardstitle">{{totalcost}}</h3>
												<p class="mb-2">Cost</p>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-sm-3">
								<div class="card flex-fill">
									<div class="card-body py-4 graph-secondary">
										<div class="media">
											<div class="media-body">
												<h3 class="cardstitle">{{totalrevenue}}</h3>
												<p class="mb-2">Revenue</p>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-sm-3">
								<div class="card flex-fill">
									<div class="card-body py-4 graph-primary">
										<div class="media">
											<div class="media-body">
												<h3 class="cardstitle">{{margin}}%</h3>
												<p class="mb-2">Margin</p>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-sm-3">
								<div class="card flex-fill">
									<div class="card-body py-4 graph-secondary">
										<div class="media">
											<div class="media-body">
												<h3 class="cardstitle">{{utilization}}%</h3>
												<p class="mb-2">Utilization</p>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="card">
							<div class="row">
								<div class="col-12 col-lg-12 d-flex">
									<div class="card flex-fill w-100">
										<div class="card-header">
											<div class="card-actions float-right">
												<a href="#" data-toggle="dropdown" data-display="static">
													<i class="align-middle" data-feather="more-horizontal"></i>
												</a>

												<div class="dropdown-menu dropdown-menu-right">
													<!-- <a class="dropdown-item"><i class="far fa-copy"></i> Copy</a> -->
													<a class="dropdown-item"
														(click)="downloadData('yearMonthChart');"><i
															class="fas fa-file-export"></i> Export</a>
													<!-- <a class="dropdown-item"><i class="fas fa-expand"></i> Full
														Screen</a> -->
												</div>

											</div>
											<h5 class="card-title mb-0">Year Month</h5>
										</div>
										<div class="card-body d-flex w-100">
											<div class="align-self-center chart">
												<canvas id="barCanvas"></canvas>
												<!-- <canvas id="horizantalBar"></canvas> -->
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- /.row -->
							<div class="row">
								<div class="col-12 col-lg-12 d-flex">
									<div class="card flex-fill w-100">
										<div class="card-header">
											<div class="card-actions float-right">
												<a href="#" data-toggle="dropdown" data-display="static">
													<i class="align-middle" data-feather="more-horizontal"></i>
												</a>

												<div class="dropdown-menu dropdown-menu-right">
													<!-- <a class="dropdown-item"><i class="far fa-copy"></i> Copy</a> -->
													<a class="dropdown-item"
														(click)="downloadData('hoursBreakDown');"><i
															class="fas fa-file-export"></i> Export</a>
													<!-- <a class="dropdown-item"><i class="fas fa-expand"></i> Full
														Screen</a> -->
												</div>

											</div>
											<h5 class="card-title mb-0">Hours BreakDown</h5>
										</div>
										<div class="card-body d-flex w-100">
											<div class="align-self-center chart">
												<!-- <canvas id="chart1" #canvas></canvas> -->
												<canvas id="hourschart"></canvas>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<div class="card flex-fill w-100">
										<div class="card-header">
											<div class="card-actions float-right">
												<div class="dropdown show">
													<a href="#" data-toggle="dropdown" data-display="static">
														<i class="align-middle" data-feather="more-horizontal"></i>
													</a>

													<div class="dropdown-menu dropdown-menu-right">
														<a class="dropdown-item" href="#"><i class="far fa-copy"></i>
															Copy</a>
														<a class="dropdown-item"
															(click)="downloadData('utilizationByLevels');"><i
																class="fas fa-file-export"></i> Export</a>
														<a class="dropdown-item" href="#"><i class="fas fa-expand"></i>
															Full Screen</a>
													</div>
												</div>
											</div>
											<h5 class="card-title mb-0">Utilization By Levels</h5>
										</div>
										<div class="card-body d-flex w-100">
											<div class="align-self-center chart">
												<div class="table-responsive table-shadow border-0 mb-3">
													<!-- <ag-grid-angular
														style="width: 100%; height: 100%;"
    													class="ag-theme-alpine"
    													[rowData]="utilByLevelsRowData"
    													[columnDefs]="utilByLevelsColumnDefs"
														[groupIncludeFooter]="true"
      													[groupIncludeTotalFooter]="true">
													</ag-grid-angular> -->
													<table class="table table-hover table-bordered">
														<thead>
															<tr>
																<th *ngFor="let data of utilByLevelsColumnDefs">
																	{{data.field}}</th>

															</tr>
														</thead>
														<tbody>
															<tr *ngFor="let data of utilByLevelsGridData">
																<td *ngFor="let column of utilByLevelsGridColumns">
																	{{data[column]}}</td>

															</tr>

														</tbody>
														<tfoot class="gridfooter">
															<tr>

															</tr>
														</tfoot>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- /.row -->
							<!-- /.row -->
							<div class="row">
								<div class="col-12 col-lg-12 d-flex">
									<div class="card flex-fill w-100">
										<div class="card-header">
											<div class="card-actions float-right">
												<a href="#" data-toggle="dropdown" data-display="static">
													<i class="align-middle" data-feather="more-horizontal"></i>
												</a>

												<div class="dropdown-menu dropdown-menu-right">
													<!-- <a class="dropdown-item"><i class="far fa-copy"></i> Copy</a> -->
													<a class="dropdown-item"
														(click)="downloadData('employeeUtilization');"><i
															class="fas fa-file-export"></i> Export</a>
													<!-- <a class="dropdown-item"><i class="fas fa-expand"></i> Full
														Screen</a> -->
												</div>

											</div>
											<h5 class="card-title mb-0">Employee Utilization</h5>
										</div>
										<div class="card-body d-flex w-100">
											<div class="align-self-center chart">
												<div style="height:250px; overflow-y: scroll; position: relative">
													<div id="canvasContainer">
														<canvas id="empUtilCanvas"></canvas>
													</div>
												</div>
												<!-- <canvas id="empUtil" ></canvas> -->
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- /.row -->
							<div class="row">
								<div class="col-12 col-lg-12 d-flex">
									<div class="card flex-fill w-100">
										<div class="card-header">
											<div class="card-actions float-right">
												<a href="#" data-toggle="dropdown" data-display="static">
													<i class="align-middle" data-feather="more-horizontal"></i>
												</a>

												<div class="dropdown-menu dropdown-menu-right">
													<!-- <a class="dropdown-item"><i class="far fa-copy"></i> Copy</a> -->
													<a class="dropdown-item"
														(click)="downloadData('hoursBreakdownByProject');"><i
															class="fas fa-file-export"></i> Export</a>
													<!-- <a class="dropdown-item"><i class="fas fa-expand"></i> Full
														Screen</a> -->
												</div>

											</div>
											<h5 class="card-title mb-0">Hours Breakdown By Project</h5>
										</div>
										<div class="card-body d-flex w-100">
											<div class="align-self-center chart">
												<div style="height:250px; overflow-y: scroll; position: relative">
													<div id="customerViewCanvasContainer">
														<canvas id="hoursByProjectCanvas"> </canvas>
													</div>
												</div>
												<!-- <canvas id="hoursByProject"></canvas> -->
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- /.row -->
							<div class="row">
								<div class="col-12 col-lg-12 d-flex">
									<div class="card flex-fill w-100">
										<div class="card-header">
											<div class="card-actions float-right">
												<a href="#" data-toggle="dropdown" data-display="static">
													<i class="align-middle" data-feather="more-horizontal"></i>
												</a>

												<div class="dropdown-menu dropdown-menu-right">
													<a class="dropdown-item"><i class="far fa-copy"></i> Copy</a>
													<a class="dropdown-item"
														(click)="downloadData('revenueBreakDownByEmployee');"><i
															class="fas fa-file-export"></i> Export</a>
													<a class="dropdown-item"><i class="fas fa-expand"></i> Full
														Screen</a>
												</div>

											</div>
											<h5 class="card-title mb-0">Revenue BreakDown By Employee</h5>
										</div>
										<div class="card-body d-flex w-100">
											<div class="align-self-center chart">
												<div style="height:250px; overflow-y: scroll; position: relative">
													<div id="empRevenueCanvasContainer">
														<canvas id="revenueByEmpCanvas"></canvas>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- /.row -->
							<!-- /.row -->
							<div class="row">
								<div class="col-md-12">
									<div class="card flex-fill w-100">
										<div class="card-header">
											<div class="card-actions float-right">
												<div class="dropdown show">
													<a href="#" data-toggle="dropdown" data-display="static">
														<i class="align-middle" data-feather="more-horizontal"></i>
													</a>

													<div class="dropdown-menu dropdown-menu-right">
														<!-- <a class="dropdown-item" href="#"><i class="far fa-copy"></i>
															Copy</a> -->
														<a class="dropdown-item"
															(click)="downloadData('hoursByEmployeeMonth');"><i
																class="fas fa-file-export"></i> Export</a>
														<!-- <a class="dropdown-item" href="#"><i class="fas fa-expand"></i>
															Full Screen</a> -->
													</div>
												</div>
											</div>
											<h5 class="card-title mb-0">Hours By Employee & Month</h5>
										</div>
										<div class="card-body d-flex w-100">
											<div class="align-self-center chart">
												<div class="table-responsive table-shadow border-0 mb-3">
													<!-- <ag-grid-angular
									style="width: 100%; height: 100%;"
    									class="ag-theme-alpine"
    									[rowData]="rowData"
    									[columnDefs]="columnDefs"
										[groupIncludeFooter]="true"
      									[groupIncludeTotalFooter]="true">
									</ag-grid-angular> -->
													<table class="table table-hover table-bordered">
														<thead>
															<tr>
																<ng-container
																	*ngFor="let data of hoursEmpMonthGridColumns">
																	<th *ngIf="data === 'Employee'"> Employee</th>
																	<th *ngIf="data !== 'Employee'" class="gridbody">
																		{{data}}</th>
																</ng-container>


															</tr>
														</thead>
														<tbody>
															<ng-container
																*ngFor="let data of hoursEmpMonthGridData; let i = index">
																<tr>
																	<ng-container
																		*ngFor="let column of hoursEmpMonthGridColumns">
																		<td *ngIf="column === 'Employee'">
																			<button class="table-drilldown-btn"
																				data-toggle="collapse"
																				attr.data-target="#projectWiseHours{{i}}"
																				aria-expanded="false">
																				<i class="fas fa-chevron-up"></i>
																				<i class="fas fa-chevron-down"></i>
																			</button>
																			{{data['Employee']}}
																		</td>
																		<td class="gridbody"
																			*ngIf="column !== 'Employee'">
																			{{data[column]}}</td>
																	</ng-container>
																</tr>

																<ng-container
																	*ngFor="let data of hoursEmpMonthGridData[i].project">
																	<tr class="collapse" id="projectWiseHours{{i}}">
																		<ng-container
																			*ngFor="let column of hoursEmpMonthGridColumns">
																			<td *ngIf="column === 'Employee'">
																				{{data['Employee']}}</td>
																			<td *ngIf="column !== 'Employee'"
																				class="gridbody">
																				{{data[column]}}</td>
																		</ng-container>


																	</tr>
																</ng-container>
															</ng-container>
														</tbody>

														<tfoot class="gridfooter">
															<!-- <ng-container *ngFor="let data of hoursEmpMonthGridTotalObjArray">
															<tr >
																<ng-container *ngFor="let column of hoursEmpMonthGridColumns">
																<td></td>
																<td *ngIf="column !== 'Employee'">{{data[column]}}</td>
																</ng-container>
															</tr>
														</ng-container> -->
															<tr>
																<td>Total</td>
																<td class="gridbody"
																	*ngFor="let data of hoursEmpMonthGridTotalObjArray">
																	{{data}}</td>
															</tr>
														</tfoot>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- /.row -->
							<!-- /.row -->
							<div class="row">
								<div class="col-md-12">
									<div class="card flex-fill w-100">
										<div class="card-header">
											<div class="card-actions float-right">
												<div class="dropdown show">
													<a href="#" data-toggle="dropdown" data-display="static">
														<i class="align-middle" data-feather="more-horizontal"></i>
													</a>

													<div class="dropdown-menu dropdown-menu-right">
														<!-- <a class="dropdown-item" href="#"><i class="far fa-copy"></i>
															Copy</a> -->
														<a class="dropdown-item"
															(click)="downloadData('monthOnMonthRevenue');"><i
																class="fas fa-file-export"></i> Export</a>
														<!-- <a class="dropdown-item" href="#"><i class="fas fa-expand"></i>
															Full Screen</a> -->
													</div>
												</div>
											</div>
											<h5 class="card-title mb-0">Month On Month Revenue</h5>
										</div>
										<div class="card-body d-flex w-100">
											<div class="align-self-center chart">
												<div class="table-responsive table-shadow border-0 mb-3">
													<!-- <ag-grid-angular
								style="width: 100%; height: 100%;"
									class="ag-theme-alpine"
									[rowData]="monthRowData"
									[columnDefs]="monthColumnDefs"
									[groupIncludeFooter]="true"
									[groupIncludeTotalFooter]="true">
								</ag-grid-angular> -->
													<table class="table table-hover table-bordered">
														<thead>
															<tr>
																<ng-container
																	*ngFor="let data of monthOnMonthGridColumns">
																	<th *ngIf="data === 'Employee'"> Employee</th>
																	<th *ngIf="data !== 'Employee'" class="gridbody">
																		{{data}}</th>
																</ng-container>
															</tr>
														</thead>
														<tbody>
															<ng-container
																*ngFor="let data of monthOnMonthGridData; let i = index">
																<tr>
																	<ng-container
																		*ngFor="let column of monthOnMonthGridColumns">
																		<td *ngIf="column === 'Employee'"><button
																				class="table-drilldown-btn"
																				data-toggle="collapse"
																				attr.data-target="#projectWiseRevenue{{i}}"
																				aria-expanded="false">
																				<i class="fas fa-chevron-up"></i>
																				<i class="fas fa-chevron-down"></i>
																			</button>{{data['Employee']}}</td>
																		<td class="gridbody"
																			*ngIf="column !== 'Employee'">
																			{{data[column]}}</td>
																	</ng-container>
																</tr>

																<ng-container
																	*ngFor="let data of monthOnMonthGridData[i].project">
																	<tr class="collapse" id="projectWiseRevenue{{i}}">
																		<ng-container
																			*ngFor="let column of monthOnMonthGridColumns">
																			<td *ngIf="column === 'Employee'">
																				{{data['Employee']}}</td>
																			<td *ngIf="column !== 'Employee'"
																				class="gridbody">
																				{{data[column]}}</td>
																		</ng-container>
																	</tr>
																</ng-container>
															</ng-container>
														</tbody>

														<tfoot class="gridfooter">
															<tr>
																<td>Total</td>
																<td class="gridbody"
																	*ngFor="let data of monthOnMonthGridTotalObjArray">
																	{{data}}</td>
															</tr>
														</tfoot>
													</table>

												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- /.row -->
						</div>
					</div>
				</section>
				<app-filters *ngIf="showFilters" (closefilters)="closingFilters($event)"></app-filters>
			</main>
			<footer class="footer">
				<div class="container-fluid">
					<div class="row text-muted">
						<div class="col-6 text-left">

						</div>
						<div class="col-6 text-right">

						</div>
					</div>
				</div>
			</footer>
		</div>


	</div>

	<div>
		<!-- Add / remove [hidden] class vice-versa according inorder to show or hide according to click -->
		<button [ngClass]="buttonClass" (click)="showfilters()">
			<span class="btn__content">
				<i class="fas fa-filter"></i>
				<span style="font-size: small;"> Filters</span>
			</span>
		</button>
	</div>

</div>
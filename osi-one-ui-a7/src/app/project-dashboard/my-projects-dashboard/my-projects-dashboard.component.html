<div id="htmle2imagedata">

  <!-- <div class="row">
    <div class="col-sm-8">
      <h5>Project Details
        <span class="lastRefresh">Last Refresh : {{ refreshDate | date:'medium' }}</span>
      </h5>
    </div>
    <div *ngIf="myProjects && myProjects.length" class="col-sm-2" data-tooltip title="Download in .xlsx">
      <button class="btn btn-primary float-right" (click)="downloadDetailsInExel()">
        <span class="glyphicon glyphicon-download-alt"></span>
        Download
      </button>
    </div>
    <div class="col-sm-2" data-tooltip title="Sync data">
      <button class="btn btn-primary float-left" (click)="refresh()">
        Refresh <span class="glyphicon glyphicon-refresh"></span>
      </button>
    </div>
  </div> -->
  <div class="row">
    <div class="col-sm-11">
      <span class="lastRefresh">Last Refresh : {{ refreshDate | date:'medium' }}</span>
    </div>
    <div class="col-sm-1" style="justify-content: space-around; display: flex;">
      <span class="glyphicon glyphicon-refresh" data-tooltip title="Sync data"
        style="font-size: 16px !important; cursor: pointer; color: #578fd4;" (click)="refresh()"></span>
    </div>
  </div>
 

  <!-- <div id="filter">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <div class="row">
              <div class="col-sm-11">
                <h5>Project Details
                </h5>
              </div>
              <div class="col-sm-1" style="justify-content: space-around; display: flex;">
                <span class="glyphicon glyphicon-download-alt" data-tooltip title="Download in excel"
                  style="font-size: 16px !important; cursor: pointer;" (click)="downloadDetailsInExel()"></span>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div>
              <ag-grid-angular style="width: auto;" class="ag-theme-balham" [rowData]="myProjects"
                [columnDefs]="columnDefs" [gridOptions]="gridOptions" [paginationPageSize]="paginationPageSize"
                [getRowHeight]="getRowHeight" pagination="true" enableSorting enableFilter enableColResize
                (gridReady)="onGridReady($event)">
              </ag-grid-angular>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->

  <!-- <div class="col-lg-12 p-0" style="border-bottom: 1px solid #e4dfdf;">
    <div>
      <h5>Projects <span class="badge badge-pill badge-info float-right">{{projectCount}}</span>
      </h5>
    </div>
    <ul class="list-group" style="height: 65vh !important;overflow-y: auto;overflow-x: hidden;">
      <div *ngFor="let prj of myProjectsList">
        <li class="list-group-item">
          <span class="glyphicon glyphicon-plus cursor cursor"
            (click)="toggleList('resources', prj.practice, $event)"></span>{{prj.practice}} <span
            class="badge badge-pill float-right">{{prj.projects.length}}</span></li>
        <div id="resources_{{prj.practice}}" class="collapse">
          <li>
            <div class="row">
              <div class="col-sm-4">
                Project
              </div>
              <div class="col-sm-4">
                Project Manager
              </div>
              <div class="col-sm-4">
                Project Department
              </div>
            </div>
          </li>
          <li *ngFor="let res of prj.projects" class="list-group-item">
            <div class="row">
              <div class="col-sm-4">
                {{res.projectName}}
              </div>
              <div class="col-sm-4">
                {{res.projectManager}}
              </div>
              <div class="col-sm-4">
                {{res.projectDepartment}}
              </div>
            </div>
          </li>
        </div>
      </div>
    </ul>
  </div> -->

  <div class="container">
    <div id="accordion" class="accordion">
      <div class="card mb-0">
        <div class="card-header collapsed" data-toggle="collapse" href="#collapseOne">
          <a class="card-title">
            <h5>
              <span class="accTitle">Projects</span>
              <span class="badge badge-pill badge-info float-right">{{projectCount}}</span>
            </h5>
          </a>
        </div>
        <div id="collapseOne" class="card-body collapse" data-parent="#accordion">
          <ul class="list-group" style="overflow-x: hidden;">
            <div *ngFor="let prj of myProjectsList">
              <li class="list-group-item heading">
                <span class="glyphicon glyphicon-plus cursor cursor"
                  (click)="toggleList('resources', prj.practice, $event)"></span>{{prj.practice}} <span
                  class="badge badge-pill float-right">{{prj.projects.length}}</span></li>
              <div id="resources_{{prj.practice}}" class="collapse sub-table">
                <li class="sub-head border">
                  <div class="row">
                    <div class="col-sm-3">
                      Project
                    </div>
                    <div class="col-sm-3">
                      Project Manager
                    </div>
                    <div class="col-sm-3">
                      Project Department
                    </div>
                    <div class="col-sm-3">
                      Project Status
                    </div>
                  </div>
                </li>
                <li *ngFor="let res of prj.projects" class="list-group-item">
                  <div class="row">
                    <div class="col-sm-3">
                      {{res.projectName}}
                    </div>
                    <div class="col-sm-3">
                      {{res.projectManager}}
                    </div>
                    <div class="col-sm-3">
                      {{res.projectDepartment}}
                    </div>
                    <div class="col-sm-3">
                      {{res.status}}
                    </div>
                  </div>
                </li>
              </div>
            </div>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <app-loading *ngIf="showLoader"></app-loading>
</div>